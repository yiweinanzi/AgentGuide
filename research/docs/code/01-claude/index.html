<!DOCTYPE html><html lang="zh-CN" class="scroll-smooth"> <head><meta charset="UTF-8"><meta name="description" content="Claude Code 4.5/4.6 最佳实践，用于项目构建阶段"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.17.1"><link rel="icon" type="image/svg+xml" href="/AgentGuide/research/favicon.svg"><link rel="canonical" href="https://adongwanai.github.io/AgentGuide/research/docs/code/01-claude/"><script>
      (() => {
        const key = 'vr-theme';
        try {
          const saved = localStorage.getItem(key);
          const theme = saved === 'dark' || saved === 'light' ? saved : 'light';
          document.documentElement.dataset.theme = theme;
        } catch {
          document.documentElement.dataset.theme = 'light';
        }
      })();
    </script><script type="module" src="/AgentGuide/research/scripts/mermaid-init.js"></script><title>Claude Code | Vibe Research</title><link rel="stylesheet" href="/AgentGuide/research/_astro/_slug_.CgnI8BI1.css"></head> <body class="bg-primary text-slate-900 min-h-screen flex flex-col font-sans selection:bg-accent/25 selection:text-slate-900"> <header class="fixed top-0 left-0 right-0 bg-primary/80 backdrop-blur-md border-b border-slate-900/10 z-50"> <nav class="max-w-7xl mx-auto px-6 h-[70px] flex justify-between items-center"> <a href="/AgentGuide/research/" class="text-xl font-bold"> <span class="bg-gradient-to-br from-blue-500 to-violet-600 bg-clip-text text-transparent">Vibe Research</span> </a> <div class="flex items-center gap-3"> <button type="button" data-theme-toggle class="theme-toggle-btn" aria-label="切换主题" title="切换浅色/深色"> <span data-theme-icon>🌙</span> <span data-theme-label>深色</span> </button> <ul class="hidden md:flex gap-8 items-center"> <li><a href="/AgentGuide/research/" class="text-slate-500 hover:text-slate-900 transition-colors text-sm font-medium">首页</a></li> <li><a href="/AgentGuide/research/#chapters" class="text-slate-500 hover:text-slate-900 transition-colors text-sm font-medium">章节</a></li> <li><a href="/AgentGuide/research/#workflow" class="text-slate-500 hover:text-slate-900 transition-colors text-sm font-medium">工作流</a></li> <li><a href="/AgentGuide/research/#about" class="text-slate-500 hover:text-slate-900 transition-colors text-sm font-medium">关于</a></li> <li><a href="/AgentGuide/research/docs/intro/01-overview" class="text-slate-500 hover:text-slate-900 transition-colors text-sm font-medium">文档</a></li> <li><a href="/AgentGuide/research/skills" class="text-slate-500 hover:text-slate-900 transition-colors text-sm font-medium">Skills</a></li> <li><a href="https://github.com/yiweinanzi/ai-research-ebook" target="_blank" rel="noopener" class="text-slate-500 hover:text-slate-900 transition-colors text-sm font-medium">GitHub</a></li> </ul> </div> </nav> </header> <main class="flex-1 pt-[70px]">  <section class="py-12"> <div class="max-w-[1500px] mx-auto px-4 md:px-6 xl:px-8 flex flex-col lg:flex-row gap-5 xl:gap-7"> <aside class="w-full lg:w-72 lg:sticky lg:top-[90px] lg:self-start bg-secondary/85 border border-slate-900/10 rounded-xl p-4 lg:p-5 backdrop-blur-sm max-h-[calc(100vh-108px)] overflow-y-auto overscroll-contain sidebar-scroll"> <p class="text-xs tracking-widest text-slate-500 mb-4 font-mono">CHAPTERS</p> <nav class="space-y-4"> <section> <h3 class="text-xs font-semibold text-slate-500 mb-2 uppercase tracking-wide">0. 导读</h3> <ul class="space-y-1.5"> <li> <a href="/AgentGuide/research/docs/intro/01-overview" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> Vibe Research </a> </li> </ul> </section><section> <h3 class="text-xs font-semibold text-slate-500 mb-2 uppercase tracking-wide">1. Idea 生成</h3> <ul class="space-y-1.5"> <li> <a href="/AgentGuide/research/docs/idea/01-research" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> 调研方法 </a> </li><li> <a href="/AgentGuide/research/docs/idea/02-projects" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> 调研项目 </a> </li> </ul> </section><section> <h3 class="text-xs font-semibold text-slate-500 mb-2 uppercase tracking-wide">2. 代码实现</h3> <ul class="space-y-1.5"> <li> <a href="/AgentGuide/research/docs/code/01-claude" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed bg-accent/15 text-accent border border-accent/30"> Claude Code </a> </li><li> <a href="/AgentGuide/research/docs/code/02-gpt" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> GPT-5.2 系列 </a> </li><li> <a href="/AgentGuide/research/docs/code/03-agents" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> 多Agent框架 </a> </li> </ul> </section><section> <h3 class="text-xs font-semibold text-slate-500 mb-2 uppercase tracking-wide">3. 论文图表</h3> <ul class="space-y-1.5"> <li> <a href="/AgentGuide/research/docs/figures/01-tools" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> 自动化绘图工具 </a> </li><li> <a href="/AgentGuide/research/docs/figures/02-comparison" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> 专业绘图对比 </a> </li><li> <a href="/AgentGuide/research/docs/figures/03-design" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> 图表设计规范 </a> </li> </ul> </section><section> <h3 class="text-xs font-semibold text-slate-500 mb-2 uppercase tracking-wide">4. 论文写作</h3> <ul class="space-y-1.5"> <li> <a href="/AgentGuide/research/docs/writing/01-methods" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> 写作方法 </a> </li><li> <a href="/AgentGuide/research/docs/writing/02-prism" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> Prism 编辑器 </a> </li><li> <a href="/AgentGuide/research/docs/writing/03-collaboration" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> 多模型协作写作 </a> </li><li> <a href="/AgentGuide/research/docs/writing/04-rebuttal" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> Rebuttal 策略 </a> </li> </ul> </section><section> <h3 class="text-xs font-semibold text-slate-500 mb-2 uppercase tracking-wide">5. 审稿与 Rebuttal</h3> <ul class="space-y-1.5"> <li> <a href="/AgentGuide/research/docs/review/01-structured" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> 结构化审稿 </a> </li><li> <a href="/AgentGuide/research/docs/review/02-templates" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> 会议审稿模板 </a> </li> </ul> </section><section> <h3 class="text-xs font-semibold text-slate-500 mb-2 uppercase tracking-wide">6. 工具生态</h3> <ul class="space-y-1.5"> <li> <a href="/AgentGuide/research/docs/tools/01-overview" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> 工具总览 </a> </li><li> <a href="/AgentGuide/research/docs/tools/02-workflow" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> 完整工作流 </a> </li> </ul> </section><section> <h3 class="text-xs font-semibold text-slate-500 mb-2 uppercase tracking-wide">7. 资料库</h3> <ul class="space-y-1.5"> <li> <a href="/AgentGuide/research/docs/library/01-root-assets" class="block rounded-md px-3 py-2 text-sm transition-colors leading-relaxed text-slate-600 hover:text-slate-900 hover:bg-slate-900/5 border border-transparent"> 科研圣经 </a> </li> </ul> </section> </nav> </aside> <article class="flex-1 min-w-0 bg-secondary/70 border border-slate-900/10 rounded-2xl p-6 md:p-9 backdrop-blur-sm"> <div class="mb-7 pb-6 border-b border-slate-900/10"> <p class="text-xs font-mono tracking-widest text-slate-500 mb-2">DOCS</p> <h1 class="text-3xl md:text-[2.55rem] font-bold text-slate-900 leading-tight">Claude Code</h1> <p class="mt-3 text-slate-600 text-[1.02rem] leading-relaxed">Claude Code 4.5/4.6 最佳实践，用于项目构建阶段</p> </div> <div class="markdown-content">  <h2 id="1-claude-opus-4546-2025年11月发布">1. Claude Opus 4.5/4.6 (2025年11月发布)</h2>
<h3 id="11-核心能力">1.1 核心能力</h3>






























<table><thead><tr><th>能力</th><th>数据</th><th>说明</th></tr></thead><tbody><tr><td><strong>SWE-bench Verified</strong></td><td>80.9%</td><td>领先业界的代码生成基准</td></tr><tr><td><strong>上下文窗口</strong></td><td>200K tokens</td><td>64K token 输出限制</td></tr><tr><td><strong>成本降低</strong></td><td>67%</td><td>$5/$25 per million tokens</td></tr><tr><td><strong>tau2-bench-lite</strong></td><td>88.9%</td><td>Agent 工具使用评估</td></tr></tbody></table>
<h3 id="12-适用场景">1.2 适用场景</h3>
<p>Claude Code 适合项目的<strong>构建阶段</strong>，可以开两三个（甚至更多）并行推进。</p>
<p>目标：让执行文档里的任何<strong>被真实跑通</strong>，直到代码结构、实验入口、评测脚本都稳定。</p>
<hr/>
<h2 id="2-安装与快速上手">2. 安装与快速上手</h2>
<h3 id="21-安装方式">2.1 安装方式</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># macOS / Linux / WSL</span></span>
<span class="line"><span style="color:#B392F0">curl</span><span style="color:#79B8FF"> -fsSL</span><span style="color:#9ECBFF"> https://claude.ai/install.sh</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Windows PowerShell</span></span>
<span class="line"><span style="color:#B392F0">irm</span><span style="color:#9ECBFF"> https://claude.ai/install.ps1</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> iex</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Windows CMD</span></span>
<span class="line"><span style="color:#B392F0">curl</span><span style="color:#79B8FF"> -fsSL</span><span style="color:#9ECBFF"> https://claude.ai/install.cmd</span><span style="color:#79B8FF"> -o</span><span style="color:#9ECBFF"> install.cmd</span><span style="color:#E1E4E8"> &amp;&amp; </span><span style="color:#B392F0">install.cmd</span><span style="color:#E1E4E8"> &amp;&amp; </span><span style="color:#B392F0">del</span><span style="color:#9ECBFF"> install.cmd</span></span></code></pre>
<h3 id="22-启动方式">2.2 启动方式</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#79B8FF">cd</span><span style="color:#9ECBFF"> your-project</span></span>
<span class="line"><span style="color:#B392F0">claude</span></span></code></pre>
<p>首次会提示登录。(<a href="https://code.claude.com/docs/en/overview">Claude Code</a>)</p>
<hr/>
<h2 id="3-交互模式与快捷键">3. 交互模式与快捷键</h2>
<h3 id="31-核心快捷键">3.1 核心快捷键</h3>





































<table><thead><tr><th>快捷键</th><th>功能</th></tr></thead><tbody><tr><td><code>?</code></td><td>显示当前环境可用快捷键</td></tr><tr><td><code>Esc Esc</code></td><td>回退/总结（rewind / summarize）</td></tr><tr><td><code>Shift+Tab</code></td><td>切换模式（普通 ↔ Plan ↔ Auto-accept ↔ Delegate）</td></tr><tr><td><code>Ctrl+B</code></td><td>把运行中的任务后台化</td></tr><tr><td><code>Ctrl+T</code></td><td>显示/隐藏任务列表</td></tr><tr><td><code>Option/Alt + P</code></td><td>切换模型</td></tr><tr><td><code>Shift+Enter</code></td><td>多行输入</td></tr></tbody></table>
<h3 id="32-内置斜杠命令">3.2 内置斜杠命令</h3>





































































<table><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td><code>/clear</code></td><td>清空对话</td></tr><tr><td><code>/context</code></td><td>看上下文占用</td></tr><tr><td><code>/export [filename]</code></td><td>导出对话</td></tr><tr><td><code>/resume [session]</code></td><td>恢复历史会话</td></tr><tr><td><code>/rename &lt;name&gt;</code></td><td>重命名会话</td></tr><tr><td><code>/plan</code></td><td>进入 plan mode</td></tr><tr><td><code>/rewind</code></td><td>回退代码/对话或总结</td></tr><tr><td><code>/doctor</code></td><td>安装健康检查</td></tr><tr><td><code>/debug [desc]</code></td><td>读 debug log 排查</td></tr><tr><td><code>/config</code></td><td>打开设置界面</td></tr><tr><td><code>/status</code></td><td>状态页</td></tr><tr><td><code>/permissions</code></td><td>权限规则</td></tr><tr><td><code>/model</code></td><td>选模型</td></tr><tr><td><code>/mcp</code></td><td>管 MCP 连接</td></tr><tr><td><code>/tasks</code></td><td>背景任务管理</td></tr></tbody></table>
<hr/>
<h2 id="4-权限模式与安全边界">4. 权限模式与安全边界</h2>
<h3 id="41-四种模式">4.1 四种模式</h3>






























<table><thead><tr><th>模式</th><th>能力</th><th>适用场景</th></tr></thead><tbody><tr><td><strong>default</strong></td><td>先问再做</td><td>日常稳妥开发</td></tr><tr><td><strong>acceptEdits</strong></td><td>自动允许文件编辑</td><td>你在旁边盯着、改动明确</td></tr><tr><td><strong>plan</strong></td><td>只读分析+出计划</td><td>需求澄清、方案评审、审计</td></tr><tr><td><strong>delegate</strong></td><td>只做 team 管理</td><td>Agent Teams 并行协作时</td></tr></tbody></table>
<p>按 <code>Shift+Tab</code> 循环切换。</p>
<h3 id="42-权限配置建议">4.2 权限配置建议</h3>
<p>在 <code>.claude/settings.json</code> 中配置：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;permissions&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;allow&quot;</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">&quot;npm run test *&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;Bash(git status)&quot;</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;deny&quot;</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">&quot;.env&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;secrets/**&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;Bash(curl *)&quot;</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<hr/>
<h2 id="5-上下文管理">5. 上下文管理</h2>
<h3 id="51-核心原则">5.1 核心原则</h3>
<p><strong>上下文再大也会被填满，可控上下文 = 可控质量。</strong></p>
<h3 id="52-工具对比">5.2 工具对比</h3>






























<table><thead><tr><th>命令</th><th>功能</th><th>何时用</th></tr></thead><tbody><tr><td><code>/context</code></td><td>看上下文占用</td><td>判断是否该清理了</td></tr><tr><td><code>/clear</code></td><td>清掉对话但保留项目状态</td><td>任务切换、对话混乱</td></tr><tr><td><code>/export</code></td><td>导出关键对话</td><td>交接、复盘、团队沉淀</td></tr><tr><td><code>Esc Esc</code> / <code>/rewind</code></td><td>回退到之前状态</td><td>跑偏时回到正确轨道</td></tr></tbody></table>
<h3 id="53-catchup-skill-模板">5.3 /catchup Skill 模板</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="markdown"><code><span class="line"><span style="color:#79B8FF;font-weight:bold">---</span></span>
<span class="line"><span style="color:#E1E4E8">name: catchup</span></span>
<span class="line"><span style="color:#E1E4E8">description: Rebuild context after /clear by reading repo state</span></span>
<span class="line"><span style="color:#79B8FF;font-weight:bold">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFAB70">1)</span><span style="color:#E1E4E8"> 运行并总结：</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> git status</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> git diff --stat</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> git diff</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> git log -n 20 --oneline</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFAB70">2)</span><span style="color:#E1E4E8"> 优先阅读：</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> CLAUDE.md</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> README / docs/</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> TODO.md / PLAN.md（如存在）</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFAB70">3)</span><span style="color:#E1E4E8"> 输出三段：</span></span>
<span class="line"><span style="color:#E1E4E8">A. 当前仓库状态</span></span>
<span class="line"><span style="color:#E1E4E8">B. 当前目标与待办（按优先级）</span></span>
<span class="line"><span style="color:#E1E4E8">C. 风险点与建议的下一步命令</span></span></code></pre>
<hr/>
<h2 id="6-项目记忆claudemd">6. 项目记忆：CLAUDE.md</h2>
<h3 id="61-必须包含的内容">6.1 必须包含的内容</h3>
<blockquote>
<p><strong>CLAUDE.md 是智能体的”宪法”，应保持简洁、聚焦高频使用场景和关键约束。</strong></p>
</blockquote>





























<table><thead><tr><th>类别</th><th>内容示例</th></tr></thead><tbody><tr><td><strong>项目启动</strong></td><td><code>npm run dev</code> / <code>python main.py</code></td></tr><tr><td><strong>测试运行</strong></td><td><code>pytest tests/</code> / <code>npm test</code></td></tr><tr><td><strong>代码风格</strong></td><td><code>ruff check .</code> / <code>prettier --write</code></td></tr><tr><td><strong>代码约束</strong></td><td>禁止读取 secrets、单测必写</td></tr><tr><td><strong>常见坑</strong></td><td>数据路径用 pathlib、随机种子固定</td></tr></tbody></table>
<h3 id="62-模板示例">6.2 模板示例</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="markdown"><code><span class="line"><span style="color:#79B8FF;font-weight:bold"># 项目约定</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;font-weight:bold">## 启动命令</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> 开发: </span><span style="color:#79B8FF">`npm run dev`</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> 测试: </span><span style="color:#79B8FF">`npm test`</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> 构建: </span><span style="color:#79B8FF">`npm run build`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;font-weight:bold">## 代码风格</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> Python: ruff format + ruff check</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> 命名: snake_case 函数, PascalCase 类</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;font-weight:bold">## 常见坑</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> 数据路径必须用 pathlib</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> 随机种子固定为 42</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> batch_size 先从 32 开始</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;font-weight:bold">## Debug 流程</span></span>
<span class="line"><span style="color:#FFAB70">1.</span><span style="color:#E1E4E8"> 复现 bug</span></span>
<span class="line"><span style="color:#FFAB70">2.</span><span style="color:#E1E4E8"> 最小化用例</span></span>
<span class="line"><span style="color:#FFAB70">3.</span><span style="color:#E1E4E8"> 定位问题</span></span>
<span class="line"><span style="color:#FFAB70">4.</span><span style="color:#E1E4E8"> 修复</span></span>
<span class="line"><span style="color:#FFAB70">5.</span><span style="color:#E1E4E8"> 加测试</span></span></code></pre>
<hr/>
<h2 id="7-plan-mode-优先闭环">7. Plan Mode 优先闭环</h2>
<h3 id="71-何时必须先-plan">7.1 何时必须先 Plan</h3>
<ul>
<li>影响架构、鉴权、支付、数据结构、跨模块重构</li>
<li>需要写/改测试策略</li>
<li>希望”一次性正确实现”</li>
</ul>
<h3 id="72-标准三段式提示">7.2 标准三段式提示</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="text"><code><span class="line"><span>你先进入 /plan。</span></span>
<span class="line"><span>1) 用要点列出：目标、非目标、约束（性能/兼容/安全）、验收标准。</span></span>
<span class="line"><span>2) 给出分步实现计划（每步产出什么、改哪些文件）。</span></span>
<span class="line"><span>3) 列出风险与回滚方案。</span></span>
<span class="line"><span>等我确认后再开始编码实现。</span></span></code></pre>
<hr/>
<h2 id="8-权限与沙箱">8. 权限与沙箱</h2>
<h3 id="81-沙箱模式">8.1 沙箱模式</h3>
<p>运行 <code>/sandbox</code> 打开菜单选择沙箱模式。</p>
<p><strong>WSL2 依赖安装：</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Ubuntu/Debian</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt-get</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> bubblewrap</span><span style="color:#9ECBFF"> socat</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Fedora</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> dnf</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> bubblewrap</span><span style="color:#9ECBFF"> socat</span></span></code></pre>
<h3 id="82-企业护栏策略">8.2 企业护栏策略</h3>
<ul>
<li><strong>轻量提醒</strong>：发现 <code>console.log</code> / debug flag → 提醒但不阻断</li>
<li><strong>强拦截</strong>：提交时如果 tests 未过 → 阻止并要求修复</li>
</ul>
<hr/>
<h2 id="9-skills可复用工作流">9. Skills：可复用工作流</h2>
<h3 id="91-skills-是什么">9.1 Skills 是什么</h3>
<p>Skills 把最佳实践固化成可调用、可共享、可组合的流程，解决”重复指导困境”。</p>
<h3 id="92-存放位置">9.2 存放位置</h3>





















<table><thead><tr><th>位置</th><th>说明</th></tr></thead><tbody><tr><td>项目内 <code>.claude/skills/</code></td><td>团队共享</td></tr><tr><td><code>~/.claude/skills/</code></td><td>个人全局</td></tr><tr><td>插件内 <code>&lt;plugin&gt;/skills/</code></td><td>插件分发</td></tr></tbody></table>
<h3 id="93-推荐技能模板">9.3 推荐技能模板</h3>
<h4 id="931-plan---强制计划">9.3.1 <code>/plan</code> - 强制计划</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="markdown"><code><span class="line"><span style="color:#79B8FF;font-weight:bold">---</span></span>
<span class="line"><span style="color:#E1E4E8">name: plan</span></span>
<span class="line"><span style="color:#E1E4E8">description: Create an implementation plan with acceptance criteria</span></span>
<span class="line"><span style="color:#79B8FF;font-weight:bold">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">输出必须包含：</span></span>
<span class="line"><span style="color:#FFAB70">1)</span><span style="color:#E1E4E8"> Goals / Non-goals / Constraints</span></span>
<span class="line"><span style="color:#FFAB70">2)</span><span style="color:#E1E4E8"> Acceptance criteria（给出可运行命令）</span></span>
<span class="line"><span style="color:#FFAB70">3)</span><span style="color:#E1E4E8"> Step-by-step plan</span></span>
<span class="line"><span style="color:#FFAB70">4)</span><span style="color:#E1E4E8"> Risks + rollback</span></span>
<span class="line"><span style="color:#E1E4E8">除非用户明确批准，否则不要写代码。</span></span></code></pre>
<h4 id="932-code-review---代码审查">9.3.2 <code>/code-review</code> - 代码审查</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="markdown"><code><span class="line"><span style="color:#79B8FF;font-weight:bold">---</span></span>
<span class="line"><span style="color:#E1E4E8">name: code-review</span></span>
<span class="line"><span style="color:#E1E4E8">description: Review current changes with a production checklist</span></span>
<span class="line"><span style="color:#79B8FF;font-weight:bold">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">执行：</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> git diff</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> git diff --stat</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">按以下结构输出：</span></span>
<span class="line"><span style="color:#FFAB70">1)</span><span style="color:#E1E4E8"> Correctness（边界/错误处理）</span></span>
<span class="line"><span style="color:#FFAB70">2)</span><span style="color:#E1E4E8"> Security（输入校验/鉴权）</span></span>
<span class="line"><span style="color:#FFAB70">3)</span><span style="color:#E1E4E8"> Tests（覆盖、缺失用例）</span></span>
<span class="line"><span style="color:#FFAB70">4)</span><span style="color:#E1E4E8"> Performance（热点、N+1）</span></span>
<span class="line"><span style="color:#FFAB70">5)</span><span style="color:#E1E4E8"> Maintainability（复杂度、命名）</span></span>
<span class="line"><span style="color:#E1E4E8">最后给出&quot;必须改/建议改/可不改&quot;三类结论。</span></span></code></pre>
<h4 id="933-tdd---测试驱动">9.3.3 <code>/tdd</code> - 测试驱动</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="markdown"><code><span class="line"><span style="color:#79B8FF;font-weight:bold">---</span></span>
<span class="line"><span style="color:#E1E4E8">name: tdd</span></span>
<span class="line"><span style="color:#E1E4E8">description: Apply a TDD workflow</span></span>
<span class="line"><span style="color:#79B8FF;font-weight:bold">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFAB70">1)</span><span style="color:#E1E4E8"> 先写失败测试（说明为什么失败）</span></span>
<span class="line"><span style="color:#FFAB70">2)</span><span style="color:#E1E4E8"> 再最小实现让测试通过</span></span>
<span class="line"><span style="color:#FFAB70">3)</span><span style="color:#E1E4E8"> 再重构（保持测试通过）</span></span>
<span class="line"><span style="color:#E1E4E8">每一步都给出运行的测试命令与结果摘要。</span></span></code></pre>
<h4 id="934-pr---pr-准备">9.3.4 <code>/pr</code> - PR 准备</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="markdown"><code><span class="line"><span style="color:#79B8FF;font-weight:bold">---</span></span>
<span class="line"><span style="color:#E1E4E8">name: pr</span></span>
<span class="line"><span style="color:#E1E4E8">description: Prepare a PR: summarize changes, run checks</span></span>
<span class="line"><span style="color:#79B8FF;font-weight:bold">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">执行并总结：</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> git status</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> git diff --stat</span></span>
<span class="line"><span style="color:#FFAB70">-</span><span style="color:#E1E4E8"> lint/test/build 命令</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">输出：</span></span>
<span class="line"><span style="color:#FFAB70">1)</span><span style="color:#E1E4E8"> PR Title（50字内）</span></span>
<span class="line"><span style="color:#FFAB70">2)</span><span style="color:#E1E4E8"> Summary（要点）</span></span>
<span class="line"><span style="color:#FFAB70">3)</span><span style="color:#E1E4E8"> Testing（跑了什么）</span></span>
<span class="line"><span style="color:#FFAB70">4)</span><span style="color:#E1E4E8"> Risk/rollback</span></span></code></pre>
<hr/>
<h2 id="10-hooks事件驱动自动化">10. Hooks：事件驱动自动化</h2>
<h3 id="101-hooks-能做什么">10.1 Hooks 能做什么</h3>
<p>Hooks 在关键节点自动执行或拦截操作：</p>
<ul>
<li>在 Claude 调用工具前/后</li>
<li>在提交 prompt 时</li>
<li>在会话开始/结束</li>
<li>在 compact/子任务结束</li>
</ul>
<h3 id="102-推荐落地类型">10.2 推荐落地类型</h3>



































<table><thead><tr><th>Hook 类型</th><th>功能</th><th>优先级</th></tr></thead><tbody><tr><td><strong>格式化</strong></td><td>改完文件后自动跑 formatter</td><td>高</td></tr><tr><td><strong>测试</strong></td><td>关键模块改动后自动跑测试</td><td>高</td></tr><tr><td><strong>危险拦截</strong></td><td>检测到 `curl</td><td>bash` 阻止</td></tr><tr><td><strong>PR 质量</strong></td><td>提交前检查 TODO/敏感信息</td><td>中</td></tr><tr><td><strong>SessionStart</strong></td><td>启动时加载项目环境</td><td>中</td></tr></tbody></table>
<h3 id="103-hooks-vs-skills-对比">10.3 Hooks vs Skills 对比</h3>
<ul>
<li><strong>Skills</strong>：告诉它”按步骤做事”（流程化）</li>
<li><strong>Hooks</strong>：保证”在关键节点一定发生”（自动化 + 强制）</li>
</ul>
<hr/>
<h2 id="11-mcp外部工具接入">11. MCP：外部工具接入</h2>
<h3 id="111-推荐场景">11.1 推荐场景</h3>





















<table><thead><tr><th>场景</th><th>推荐程度</th></tr></thead><tbody><tr><td>访问外部系统数据（Notion/Jira/GitHub/DB）</td><td>✅ 强推荐</td></tr><tr><td>有状态工具（Playwright）</td><td>⚠️ 谨慎</td></tr><tr><td>所有内部 API 包进 MCP</td><td>❌ 避免</td></tr></tbody></table>
<h3 id="112-添加-mcp-server">11.2 添加 MCP Server</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># HTTP 方式（推荐）</span></span>
<span class="line"><span style="color:#B392F0">claude</span><span style="color:#9ECBFF"> mcp</span><span style="color:#9ECBFF"> add</span><span style="color:#79B8FF"> --transport</span><span style="color:#9ECBFF"> http</span><span style="color:#9ECBFF"> notion</span><span style="color:#9ECBFF"> https://mcp.notion.com/mcp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># SSE 方式（已废弃）</span></span>
<span class="line"><span style="color:#B392F0">claude</span><span style="color:#9ECBFF"> mcp</span><span style="color:#9ECBFF"> add</span><span style="color:#79B8FF"> --transport</span><span style="color:#9ECBFF"> sse</span><span style="color:#9ECBFF"> asana</span><span style="color:#9ECBFF"> https://mcp.asana.com/sse</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 查看列表</span></span>
<span class="line"><span style="color:#B392F0">claude</span><span style="color:#9ECBFF"> mcp</span><span style="color:#9ECBFF"> list</span></span></code></pre>
<h3 id="113-核心-mcp-工具">11.3 核心 MCP 工具</h3>






























<table><thead><tr><th>工具</th><th>功能</th><th>适用场景</th></tr></thead><tbody><tr><td><strong>Zotero-MCP</strong></td><td>直接访问本地 Zotero 文献库</td><td>文献管理、引用分析</td></tr><tr><td><strong>Perplexity MCP</strong></td><td>Deep Research 模式</td><td>技术调研、综述写作</td></tr><tr><td><strong>ClickHouse MCP</strong></td><td>数据库集成</td><td>大数据分析</td></tr><tr><td><strong>GitHub MCP</strong></td><td>仓库操作</td><td>版本控制自动化</td></tr></tbody></table>
<hr/>
<h2 id="12-最佳实践团队协作模式">12. 最佳实践：团队协作模式</h2>
<h3 id="121-角色分工">12.1 角色分工</h3>






























<table><thead><tr><th>角色</th><th>职责</th><th>Claude 实例数</th></tr></thead><tbody><tr><td>Architect</td><td>总体结构与接口设计</td><td>1-2</td></tr><tr><td>Implementer</td><td>核心模块实现</td><td>2-3</td></tr><tr><td>Tester</td><td>测试用例与评测</td><td>1-2</td></tr><tr><td>Reviewer</td><td>Code review 与边界检查</td><td>1-2</td></tr></tbody></table>
<h3 id="122-7天落地路线">12.2 7天落地路线</h3>





































<table><thead><tr><th>天数</th><th>任务</th></tr></thead><tbody><tr><td>Day 1</td><td>编写简洁的 <code>CLAUDE.md</code></td></tr><tr><td>Day 2</td><td>添加底线 <code>rules</code>（安全、测试）</td></tr><tr><td>Day 3</td><td>落地核心命令 <code>/plan</code></td></tr><tr><td>Day 4</td><td>落地命令 <code>/code-review</code></td></tr><tr><td>Day 5</td><td>添加提醒型 Hooks</td></tr><tr><td>Day 6</td><td>添加一致性 Hooks</td></tr><tr><td>Day 7</td><td>引入 Subagents</td></tr></tbody></table>
<hr/>
<h2 id="13-下一步行动">13. 下一步行动</h2>
<ol>
<li>在项目里跑一次 <code>/init</code>，生成并精简 <code>CLAUDE.md</code></li>
<li>新建 <code>.claude/skills/</code>，把常用 Skills 复制进去</li>
<li>开始复杂任务前：先 <code>/plan</code>，确认后再实现</li>
<li>跑偏就 <code>Esc Esc</code> → rewind</li>
<li>想减少弹窗就 <code>/sandbox</code></li>
<li>需要并行就用 Agent Teams</li>
</ol>
<hr/>
<h2 id="14-vibe-实战并集补充融合版">14. Vibe 实战并集补充（融合版）</h2>
<blockquote>
<p>本节把 <code>vibe/Vibe.md</code>、<code>vibe/Vibe Working.md</code>、<code>vibe/VIbe2.md</code> 的重合观点去重后并入当前章节，只保留与工程落地直接相关的增量。</p>
</blockquote>
<h3 id="141-高频共识去重后">14.1 高频共识（去重后）</h3>
<ol>
<li><strong>Plan 先行</strong>：复杂任务默认 <code>/plan</code>，先给验收标准再改代码。</li>
<li><strong>上下文治理</strong>：高频使用 <code>/context</code> + <code>/clear</code> + <code>/rewind</code>，避免会话污染。</li>
<li><strong>流程资产化</strong>：把重复动作沉淀为 skills / hooks / agents，而不是靠临场提示词。</li>
<li><strong>结果导向</strong>：以“可运行 + 可测试 + 可评审（PR）”作为完成标准。</li>
</ol>
<h3 id="142-团队落地的最小闭环">14.2 团队落地的最小闭环</h3>
<ul>
<li><strong>Day 1-2</strong>：整理 <code>CLAUDE.md</code> + <code>settings.json</code>（定义底线约束）</li>
<li><strong>Day 3-4</strong>：落地 <code>/plan</code>、<code>/code-review</code> 两个核心 skill</li>
<li><strong>Day 5-7</strong>：接入提醒型 hooks，再逐步升级到一致性/阻断型 hooks</li>
</ul>
<p>这条路线的目标是先稳定质量，再追求并行规模。</p>
<hr/>
<h2 id="15-book-实战增补逐篇并入">15. Book 实战增补（逐篇并入）</h2>
<blockquote>
<p>本节将 <code>book/</code> 中 5 篇与 Claude Code 直接相关的文章，按”教程正文 + 实战摘录”方式并入本章，重点保留可执行方法与避坑经验。</p>
</blockquote>
<h3 id="151-1-470万阅读实战心得先思考再动手">15.1 1) 470万阅读实战心得：先思考，再动手</h3>
<h4 id="1511-教程化整合">15.1.1 教程化整合</h4>
<ul>
<li>复杂任务默认先进入 Plan Mode（双击 <code>Shift + Tab</code>），先定架构与验收标准再写代码。</li>
<li><code>CLAUDE.md</code> 要短、具体、可执行：优先写项目特有约束，而非常识性说明。</li>
<li>指令要同时包含”做什么 + 为什么”：让模型在边界场景做出更稳判断。</li>
<li>上下文不要用满才清理：20%~40% 已可能出现质量退化，建议任务级会话拆分。</li>
<li>使用外部记忆文件（如 <code>plan.md</code>、<code>SCRATCHPAD.md</code>）承接跨会话进度。</li>
</ul>
<h4 id="1512-可执行清单">15.1.2 可执行清单</h4>
<ol>
<li>每次复杂需求先写 5~10 行目标与非目标。</li>
<li>运行一次 <code>/plan</code> 或 Plan Mode 输出分步方案。</li>
<li>将重复纠错项沉淀到 <code>CLAUDE.md</code>（按 <code>#</code> 快捷更新）。</li>
<li>对话跑偏时使用 <code>/compact</code> → <code>/clear</code> → 粘贴关键上下文重启。</li>
</ol>
<h4 id="1513-详细步骤避免云里雾里">15.1.3 详细步骤（避免”云里雾里”）</h4>
<ol>
<li>新建 <code>plan.md</code>，固定写 4 行：目标 / 非目标 / 输入 / 验收。</li>
<li>进入 Plan Mode 后要求输出：文件列表 + 变更顺序 + 测试命令。</li>
<li>若计划中有”可选增强”，先全部标记为不做，只保留 MVP。</li>
<li>执行中每完成一个子任务，在 <code>plan.md</code> 写”已完成 + 证据链接”。</li>
<li>出现循环修复两次以上，立即停下执行 <code>/clear</code>，重开会话重述任务。</li>
</ol>
<h4 id="1514-实战摘录">15.1.4 实战摘录</h4>
<blockquote>
<p>如果同一问题解释三次仍跑偏，优先换会话或换问题建模方式，而不是继续加长提示词。</p>
</blockquote>
<h4 id="1515-文章细节补充保留原文有效动作">15.1.5 文章细节补充（保留原文有效动作）</h4>
<ul>
<li><strong>CLAUDE.md 四原则</strong>：短、具体、解释原因、持续更新。</li>
<li><strong>上下文治理动作</strong>：限定单任务会话、外部记忆文件、<code>/compact</code> 摘要、<code>/clear</code> 重启。</li>
<li><strong>Prompt 质量三要素</strong>：具体目标、明确禁做项、业务原因说明。</li>
<li><strong>卡住时四步修复</strong>：清会话 → 拆小任务 → 给最小示例 → 换建模角度（如状态机）。</li>
</ul>
<h4 id="1516-可复制提示词模板">15.1.6 可复制提示词模板</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="text"><code><span class="line"><span>请先进入规划模式，不要立即编码。</span></span>
<span class="line"><span>目标：&lt;目标&gt;</span></span>
<span class="line"><span>约束：&lt;技术栈/目录/边界&gt;</span></span>
<span class="line"><span>禁止事项：&lt;不允许新增抽象/不允许改动模块&gt;</span></span>
<span class="line"><span>验收标准：&lt;测试命令 + 通过条件&gt;</span></span>
<span class="line"><span>输出：按步骤计划（每步含输入、输出、风险）</span></span></code></pre>
<h3 id="152-2-资深工程师完全指南把-claude-变成系统组件">15.2 2) 资深工程师完全指南：把 Claude 变成系统组件</h3>
<h4 id="1521-教程化整合">15.2.1 教程化整合</h4>
<ul>
<li>把 Claude Code 从”问答工具”升级为”工程系统部件”：支持脚本化、日志化、可审计。</li>
<li>模型协作建议：架构与关键决策用强模型，日常实现用高性价比模型。</li>
<li>推荐在常见任务上沉淀 Slash Commands，减少重复 prompt 编写成本。</li>
<li>借助 Hooks/MCP 做前后置检查，把质量控制前移到流程节点。</li>
</ul>
<h4 id="1522-可执行清单">15.2.2 可执行清单</h4>
<ul>
<li>对高风险模块启用强制检查：安全、权限、数据一致性。</li>
<li>复用无头执行：<code>claude -p &quot;任务描述&quot;</code> 集成到脚本或 CI。</li>
<li>每周回顾一次“失败任务日志”，更新 <code>CLAUDE.md</code> 与命令模板。</li>
</ul>
<h4 id="1523-详细步骤系统化落地">15.2.3 详细步骤（系统化落地）</h4>
<ol>
<li>把高频任务抽成命令：<code>/commands/review.md</code>、<code>/commands/debug.md</code>。</li>
<li>在 CI 中增加 <code>claude -p</code> 的只读审查任务（不直接写仓库）。</li>
<li>每次失败记录三件事：触发条件、错误表现、修复动作。</li>
<li>每周挑 3 条重复问题，更新 <code>CLAUDE.md</code> 的”禁止/必须”规则。</li>
</ol>
<h4 id="1524-文章细节补充系统化飞轮">15.2.4 文章细节补充（系统化飞轮）</h4>
<ul>
<li><strong>飞轮机制</strong>：错误发生 → 查看日志 → 改 CLAUDE.md/命令模板 → 下次更稳。</li>
<li><strong>模型分工建议</strong>：复杂架构和疑难排查用强模型，常规实现用高性价比模型。</li>
<li><strong>会话切换信号</strong>：当问题定义已变，优先新会话，不在旧上下文强行续写。</li>
</ul>
<h4 id="1525-推荐命令清单">15.2.5 推荐命令清单</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># 无头运行（脚本/CI）</span></span>
<span class="line"><span style="color:#B392F0">claude</span><span style="color:#79B8FF"> -p</span><span style="color:#9ECBFF"> &quot;审查当前改动的安全风险，给出按严重级别排序结果&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 继续历史会话</span></span>
<span class="line"><span style="color:#B392F0">claude</span><span style="color:#79B8FF"> --continue</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 选择历史会话</span></span>
<span class="line"><span style="color:#B392F0">claude</span><span style="color:#79B8FF"> --resume</span></span></code></pre>
<h3 id="153-3-31个效率技巧从快捷键到自动化分层使用">15.3 3) 31个效率技巧：从快捷键到自动化分层使用</h3>
<h4 id="1531-教程化整合">15.3.1 教程化整合</h4>
<p>将 31 个技巧收敛为 5 层能力：</p>



































<table><thead><tr><th>层级</th><th>代表能力</th><th>关键命令/动作</th></tr></thead><tbody><tr><td>启动层</td><td>建立项目记忆</td><td><code>/init</code>、Memory Updates</td></tr><tr><td>交互层</td><td>快速上下文与命令执行</td><td><code>@文件</code>、<code>! bash</code>、<code>Esc Esc</code></td></tr><tr><td>会话层</td><td>恢复、命名、导出</td><td><code>claude --continue</code>、<code>/export</code></td></tr><tr><td>安全层</td><td>权限控制与审计</td><td><code>/sandbox</code>、Hooks</td></tr><tr><td>自动化层</td><td>流水线复用</td><td><code>claude -p</code>、Commands、Skills、Subagents</td></tr></tbody></table>
<h4 id="1532-可执行清单">15.3.2 可执行清单</h4>
<ul>
<li>把高频动作固化成 <code>/commands</code>；</li>
<li>复杂任务统一走 Plan + Review；</li>
<li>批处理任务优先转为 <code>-p</code> 无头流程。</li>
</ul>
<h4 id="1533-详细步骤31-技巧落地顺序">15.3.3 详细步骤（31 技巧落地顺序）</h4>
<ol>
<li>第一周只上手 6 个：<code>/init</code>、<code>@</code>、<code>!</code>、<code>Esc Esc</code>、<code>/context</code>、<code>/sandbox</code>。</li>
<li>第二周新增 5 个：<code>/export</code>、<code>/stats</code>、<code>/usage</code>、<code>/statusline</code>、<code>/commands</code>。</li>
<li>第三周再启用自动化能力：Hooks、Subagents、Headless。</li>
<li>每新增一个能力，记录”触发条件 + 不适用场景”，避免误用。</li>
</ol>
<h4 id="1534-文章细节补充关键技巧分组">15.3.4 文章细节补充（关键技巧分组）</h4>



































<table><thead><tr><th>目标</th><th>技巧组合</th><th>典型收益</th></tr></thead><tbody><tr><td>快速拿上下文</td><td><code>@文件/目录</code> + <code>!命令</code></td><td>减少切终端/复制粘贴</td></tr><tr><td>快速回滚</td><td><code>Esc Esc</code> + 会话恢复</td><td>降低试错成本</td></tr><tr><td>长任务续航</td><td>命名会话 + <code>/export</code></td><td>可追踪、可交接</td></tr><tr><td>自动质检</td><td>Hooks + <code>/sandbox</code></td><td>提前阻断风险变更</td></tr><tr><td>流水线复用</td><td>Commands + Headless</td><td>把经验固化为资产</td></tr></tbody></table>
<h4 id="1535-新手执行顺序详细">15.3.5 新手执行顺序（详细）</h4>
<ol>
<li>先学「上下文与回滚」（<code>@</code>、<code>!</code>、<code>Esc Esc</code>）。</li>
<li>再学「计划与安全」（Plan Mode、<code>/sandbox</code>、Hooks）。</li>
<li>最后学「规模化」（Subagents、Headless、插件体系）。</li>
</ol>
<h3 id="154-4-code-simplifier把能跑整理成可维护">15.4 4) Code Simplifier：把”能跑”整理成”可维护”</h3>
<h4 id="1541-教程化整合">15.4.1 教程化整合</h4>
<ul>
<li><code>code-simplifier</code> 定位是”语义不变的结构优化”：改写法，不改行为。</li>
<li>与 <code>ESLint/Prettier</code> 互补：后者做格式，前者做可读性与结构简化。</li>
<li>特别适合 AI 快速生成后的清理阶段：先生成，再简化，再测试。</li>
</ul>
<h4 id="1542-可执行清单">15.4.2 可执行清单</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">claude</span><span style="color:#9ECBFF"> plugin</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> code-simplifier</span></span>
<span class="line"><span style="color:#6A737D"># 或会话内</span></span>
<span class="line"><span style="color:#B392F0">/plugin</span><span style="color:#9ECBFF"> marketplace</span><span style="color:#9ECBFF"> update</span><span style="color:#9ECBFF"> claude-plugins-official</span></span>
<span class="line"><span style="color:#B392F0">/plugin</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> code-simplifier</span></span></code></pre>
<ul>
<li>在 <code>CLAUDE.md</code> 明确导入、命名、类型、函数风格，供 simplifier 遵循。</li>
<li>建议在 PR 前固定跑一次，结合 <code>git diff</code> 做人工复核。</li>
</ul>
<h4 id="1543-详细步骤pr-前整理标准流程">15.4.3 详细步骤（PR 前整理标准流程）</h4>
<ol>
<li>功能实现完成后先跑测试，确保”当前代码可用”。</li>
<li>执行 <code>code-simplifier</code> 做结构整理。</li>
<li>立刻跑同一套测试，确认整理后行为不变。</li>
<li>打开 <code>git diff</code>，重点审查：边界判断、异常路径、公共接口。</li>
<li>通过后再进入 Code Review，避免把”脏代码”交给审查环节。</li>
</ol>
<h4 id="1544-文章细节补充工具对比与定位">15.4.4 文章细节补充（工具对比与定位）</h4>

























<table><thead><tr><th>工具</th><th>擅长</th><th>不擅长</th></tr></thead><tbody><tr><td>ESLint/Prettier</td><td>语法与格式统一</td><td>语义级简化</td></tr><tr><td>Code Simplifier</td><td>可读性、结构化重写</td><td>规则化格式细节</td></tr><tr><td>人工 Review</td><td>业务语义与架构判断</td><td>高重复清理劳动</td></tr></tbody></table>
<h4 id="1545-使用场景建议">15.4.5 使用场景建议</h4>
<ul>
<li>长时间编码后清理；</li>
<li>大重构后整理；</li>
<li>AI 生成代码后做第一轮“去噪”；</li>
<li>提交 PR 前统一风格并减少理解负担。</li>
</ul>
<h3 id="155-5-非技术用户落地指南安装配置与工作流心法">15.5 5) 非技术用户落地指南：安装、配置与工作流心法</h3>
<h4 id="1551-教程化整合">15.5.1 教程化整合</h4>
<ul>
<li>非技术用户最容易卡在 API 配置，而不是功能使用。</li>
<li>推荐”先可用，再优化”路径：先连上一个稳定模型，再逐步引入 Skills/MCP。</li>
<li>将复杂配置 GUI 化（如 API 切换器），可显著降低误配置概率。</li>
<li>工具使用的核心不是”会命令”，而是”能给清晰输入并持续迭代”。</li>
</ul>
<h4 id="1552-可执行清单">15.5.2 可执行清单</h4>
<ol>
<li>安装 Claude Code（Mac/Windows）后先跑一个最小任务验证闭环。</li>
<li>选定一个主模型通道（国产直连或第三方中转）并完成健康检查。</li>
<li>使用四步法：定义问题 → 方案探索 → 计划确认 → 执行迭代。</li>
<li>每完成一个阶段，把关键结论写入文档，防止上下文丢失。</li>
</ol>
<h4 id="1553-详细步骤从-0-到可用">15.5.3 详细步骤（从 0 到可用）</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># macOS / Linux</span></span>
<span class="line"><span style="color:#B392F0">curl</span><span style="color:#79B8FF"> -fsSL</span><span style="color:#9ECBFF"> https://claude.ai/install.sh</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Windows PowerShell</span></span>
<span class="line"><span style="color:#B392F0">irm</span><span style="color:#9ECBFF"> https://claude.ai/install.ps1</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> iex</span></span></code></pre>
<ol>
<li>安装后执行 <code>claude</code>，完成登录与首轮环境检查。</li>
<li>先做一个最小任务：例如”读取当前目录并总结项目结构”。</li>
<li>配置 API 通道后做健康检查：固定 3 个测试 prompt（速度/格式/稳定）。</li>
<li>用四步工作流跑一个小任务（如批量重命名）验证完整闭环。</li>
<li>将成功流程写入 <code>CLAUDE.md</code>，后续直接复用。</li>
</ol>
<h4 id="1554-文章细节补充安装与配置路线">15.5.4 文章细节补充（安装与配置路线）</h4>
<h5 id="15541-a-安装路线">15.5.4.1 A. 安装路线</h5>
<ul>
<li>macOS/Linux：脚本安装；</li>
<li>Windows：PowerShell 安装；</li>
<li>若脚本受限，再退回 <code>npm</code> 安装方案。</li>
</ul>
<h5 id="15542-b-api-路线">15.5.4.2 B. API 路线</h5>
<ol>
<li><strong>国产模型直连</strong>：稳定、低成本、上手快；</li>
<li><strong>第三方中转</strong>：接近原模型体验，需关注服务稳定性；</li>
<li><strong>多源备份</strong>：至少准备 2 个可切换通道，防止单点中断。</li>
</ol>
<h5 id="15543-c-常见卡点排查">15.5.4.3 C. 常见卡点排查</h5>
<ul>
<li>安装成功但命令不可用：重开终端并检查 PATH。</li>
<li>模型无响应：先跑最小 prompt 验证网络与 key。</li>
<li>会话表现忽好忽坏：检查上下文是否过载，必要时重启会话。</li>
</ul>
<h4 id="1555-实战摘录">15.5.5 实战摘录</h4>
<blockquote>
<p>普通用户的门槛不是编程语法，而是把模糊需求转成可执行目标与验收条件。</p>
</blockquote>  </div> <div class="mt-10 pt-6 border-t border-slate-900/10 grid gap-4 sm:grid-cols-2"> <div> <a href="/AgentGuide/research/docs/idea/02-projects" class="block rounded-xl border border-slate-900/10 p-4 hover:border-accent/40 transition-colors bg-slate-50"> <p class="text-xs text-slate-500 mb-2">上一篇</p> <p class="font-semibold text-slate-900">调研项目</p> </a> </div> <div> <a href="/AgentGuide/research/docs/code/02-gpt" class="block rounded-xl border border-slate-900/10 p-4 hover:border-accent/40 transition-colors bg-slate-50 text-right"> <p class="text-xs text-slate-500 mb-2">下一篇</p> <p class="font-semibold text-slate-900">GPT-5.2 系列</p> </a> </div> </div> </article> <aside class="hidden xl:block w-64 sticky top-[90px] self-start bg-secondary/85 border border-slate-900/10 rounded-xl p-4 lg:p-5 backdrop-blur-sm max-h-[calc(100vh-108px)] overflow-y-auto overscroll-contain sidebar-scroll"><p class="text-xs tracking-widest text-slate-500 mb-4 font-mono">ON THIS PAGE</p><ul class="space-y-2"><li><a href="#1-claude-opus-4546-2025年11月发布" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-0">1. Claude Opus 4.5/4.6 (2025年11月发布)</a></li><li><a href="#11-核心能力" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">1.1 核心能力</a></li><li><a href="#12-适用场景" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">1.2 适用场景</a></li><li><a href="#2-安装与快速上手" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-0">2. 安装与快速上手</a></li><li><a href="#21-安装方式" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">2.1 安装方式</a></li><li><a href="#22-启动方式" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">2.2 启动方式</a></li><li><a href="#3-交互模式与快捷键" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-0">3. 交互模式与快捷键</a></li><li><a href="#31-核心快捷键" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">3.1 核心快捷键</a></li><li><a href="#32-内置斜杠命令" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">3.2 内置斜杠命令</a></li><li><a href="#4-权限模式与安全边界" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-0">4. 权限模式与安全边界</a></li><li><a href="#41-四种模式" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">4.1 四种模式</a></li><li><a href="#42-权限配置建议" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">4.2 权限配置建议</a></li><li><a href="#5-上下文管理" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-0">5. 上下文管理</a></li><li><a href="#51-核心原则" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">5.1 核心原则</a></li><li><a href="#52-工具对比" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">5.2 工具对比</a></li><li><a href="#53-catchup-skill-模板" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">5.3 /catchup Skill 模板</a></li><li><a href="#6-项目记忆claudemd" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-0">6. 项目记忆：CLAUDE.md</a></li><li><a href="#61-必须包含的内容" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">6.1 必须包含的内容</a></li><li><a href="#62-模板示例" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">6.2 模板示例</a></li><li><a href="#7-plan-mode-优先闭环" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-0">7. Plan Mode 优先闭环</a></li><li><a href="#71-何时必须先-plan" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">7.1 何时必须先 Plan</a></li><li><a href="#72-标准三段式提示" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">7.2 标准三段式提示</a></li><li><a href="#8-权限与沙箱" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-0">8. 权限与沙箱</a></li><li><a href="#81-沙箱模式" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">8.1 沙箱模式</a></li><li><a href="#82-企业护栏策略" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">8.2 企业护栏策略</a></li><li><a href="#9-skills可复用工作流" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-0">9. Skills：可复用工作流</a></li><li><a href="#91-skills-是什么" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">9.1 Skills 是什么</a></li><li><a href="#92-存放位置" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">9.2 存放位置</a></li><li><a href="#93-推荐技能模板" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">9.3 推荐技能模板</a></li><li><a href="#10-hooks事件驱动自动化" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-0">10. Hooks：事件驱动自动化</a></li><li><a href="#101-hooks-能做什么" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">10.1 Hooks 能做什么</a></li><li><a href="#102-推荐落地类型" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">10.2 推荐落地类型</a></li><li><a href="#103-hooks-vs-skills-对比" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">10.3 Hooks vs Skills 对比</a></li><li><a href="#11-mcp外部工具接入" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-0">11. MCP：外部工具接入</a></li><li><a href="#111-推荐场景" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">11.1 推荐场景</a></li><li><a href="#112-添加-mcp-server" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">11.2 添加 MCP Server</a></li><li><a href="#113-核心-mcp-工具" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">11.3 核心 MCP 工具</a></li><li><a href="#12-最佳实践团队协作模式" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-0">12. 最佳实践：团队协作模式</a></li><li><a href="#121-角色分工" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">12.1 角色分工</a></li><li><a href="#122-7天落地路线" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">12.2 7天落地路线</a></li><li><a href="#13-下一步行动" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-0">13. 下一步行动</a></li><li><a href="#14-vibe-实战并集补充融合版" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-0">14. Vibe 实战并集补充（融合版）</a></li><li><a href="#141-高频共识去重后" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">14.1 高频共识（去重后）</a></li><li><a href="#142-团队落地的最小闭环" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">14.2 团队落地的最小闭环</a></li><li><a href="#15-book-实战增补逐篇并入" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-0">15. Book 实战增补（逐篇并入）</a></li><li><a href="#151-1-470万阅读实战心得先思考再动手" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">15.1 1) 470万阅读实战心得：先思考，再动手</a></li><li><a href="#152-2-资深工程师完全指南把-claude-变成系统组件" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">15.2 2) 资深工程师完全指南：把 Claude 变成系统组件</a></li><li><a href="#153-3-31个效率技巧从快捷键到自动化分层使用" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">15.3 3) 31个效率技巧：从快捷键到自动化分层使用</a></li><li><a href="#154-4-code-simplifier把能跑整理成可维护" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">15.4 4) Code Simplifier：把”能跑”整理成”可维护”</a></li><li><a href="#155-5-非技术用户落地指南安装配置与工作流心法" class="block text-sm text-slate-500 hover:text-slate-900 transition-colors leading-relaxed pl-3">15.5 5) 非技术用户落地指南：安装、配置与工作流心法</a></li></ul></aside> </div> </section>  </main> <footer class="bg-secondary border-t border-slate-900/10 py-8 mt-auto"> <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-4"> <p class="text-slate-500 text-sm">&copy; 2026 Vibe Research. Built with Astro + Tailwind.</p> <div class="flex gap-6"> <a href="https://github.com/yiweinanzi/ai-research-ebook" target="_blank" rel="noopener" class="text-slate-500 hover:text-accent transition-colors text-sm">GitHub</a> <a href="/AgentGuide/research/docs/intro/01-overview" class="text-slate-500 hover:text-accent transition-colors text-sm">开始阅读</a> </div> </div> </footer> <script>
      (() => {
        const key = 'vr-theme';
        const root = document.documentElement;
        const iconNodes = () => document.querySelectorAll('[data-theme-icon]');
        const labelNodes = () => document.querySelectorAll('[data-theme-label]');

        const currentTheme = () => (root.dataset.theme === 'dark' ? 'dark' : 'light');

        const syncThemeUI = () => {
          const isDark = currentTheme() === 'dark';
          for (const node of iconNodes()) node.textContent = isDark ? '☀️' : '🌙';
          for (const node of labelNodes()) node.textContent = isDark ? '浅色' : '深色';
        };

        const setTheme = (theme) => {
          root.dataset.theme = theme === 'dark' ? 'dark' : 'light';
          try {
            localStorage.setItem(key, root.dataset.theme);
          } catch {}
          syncThemeUI();
        };

        document.addEventListener('click', (event) => {
          const target = event.target;
          if (!(target instanceof Element)) return;
          const button = target.closest('[data-theme-toggle]');
          if (!button) return;
          setTheme(currentTheme() === 'dark' ? 'light' : 'dark');
        });

        document.addEventListener('astro:after-swap', syncThemeUI);
        syncThemeUI();
      })();
    </script> </body> </html>