import{t as l,a as u,l as m}from"./progress.BedWysuu.js";(()=>{const d=document.getElementById("question-detail");if(!(d instanceof HTMLElement))return;const t=d.dataset.questionId??"";if(!t)return;const e=document.getElementById("favorite-toggle"),n=document.getElementById("completed-toggle"),a=document.getElementById("question-progress-status");if(!(e instanceof HTMLButtonElement)||!(n instanceof HTMLButtonElement))return;const o=()=>{const c=m(),s=c.favoriteIds.includes(t),i=c.completedIds.includes(t);if(e.textContent=s?"已收藏":"收藏",n.textContent=i?"已完成":"标记完成",e.dataset.active=s?"true":"false",n.dataset.active=i?"true":"false",!(a instanceof HTMLElement))return;if(!s&&!i){a.textContent="当前状态：未收藏、未完成";return}const r=[];s&&r.push("已收藏"),i&&r.push("已完成"),a.textContent=`当前状态：${r.join(" · ")}`};e.addEventListener("click",()=>{l(t),o()}),n.addEventListener("click",()=>{u(t),o()}),window.addEventListener("storage",o),o()})();
